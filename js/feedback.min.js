"use strict";!function(){const e=document.querySelector(".contacts__more"),t=document.querySelector(".modal--write-us"),a=document.querySelector(".modal__close"),o=document.querySelector(".write-us-form"),r=o.querySelector('.write-us-form__input[name="user-name"]'),c=o.querySelector('.write-us-form__input[name="email"]'),l=o.querySelector('.write-us-form__input[name="message"]');let n=!0,s={feedbackName:"",feedbackEmail:""};try{s={feedbackName:localStorage.getItem("feedbackName"),feedbackEmail:localStorage.getItem("feedbackEmail")}}catch(e){n=!1}const m=function(a){"Escape"===a.key&&(a.preventDefault(),u(t),t.classList.remove("modal--error"),e.focus(),document.removeEventListener("keydown",m))},u=function(e){e.classList.remove("modal--open"),document.removeEventListener("keydown",m)};e.addEventListener("click",function(e){e.preventDefault(),t.classList.add("modal--open"),document.addEventListener("keydown",m),s?(r.value=s.feedbackName,c.value=s.feedbackEmail,l.focus()):r.focus()}),a.addEventListener("click",function(a){a.preventDefault(),u(t),t.classList.remove("modal--error"),e.focus()});o.addEventListener("submit",function(e){r.value&&c.value&&l.value?n&&(localStorage.setItem("feedbackName",r.value),localStorage.setItem("feedbackEmail",c.value)):(e.preventDefault(),t.classList.remove("modal--error"),t.style.offsetWidth=o.offsetWidth,t.classList.add("modal--error"))})}();
